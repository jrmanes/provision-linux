---
 - name: Import vars file
   include_vars: "../../vars/main.yml"

 - name: Install Golang Dependencies
   apt:
     pkg: [ 'curl', 'gcc', 'git', 'findutils', 'make', 'rsync', 'tar' ]
     state: present
     update_cache: yes

 - name : Create needed paths
   file:
     path: "{{ item }}"
     state: directory
     owner: "root"
     group: "root"
   with_items:
     - "{{ development.golang.install_dir }}{{ development.golang.version }}/"
     - "{{ development.golang.download_dir }}{{ development.golang.version }}/"

 - name: Download the Go tarball
   get_url:
     url: "{{ development.golang.mirror }}{{ development.golang.version }}.linux-amd64.tar.gz"
     dest: "{{ development.golang.download_dir }}{{ development.golang.version }}/"
